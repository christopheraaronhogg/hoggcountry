## Architecture

### High‑level
- Static site generated by Astro.
- Content from Markdown/MDX collections + YouTube RSS.
- The home page builds a **timeline** that merges trips (content) and videos (RSS) by date.
- Interactivity is isolated to small islands (gallery lightbox, click‑to‑play video embeds).

### Directory layout (selected)
- `public/` — static assets (e.g., fonts, favicon)
- `src/components/` — reusable UI (`Timeline*`, `IconBadge`, `YouTubeEmbed`, `Gallery`)
- `src/layouts/` — page layouts (`BlogPost.astro`)
- `src/pages/` — routed pages (`index.astro`, `trips/*`, `videos/*`, `blog/*`, `tags/*`, `rss.xml.js`)
- `src/styles/` — global styling (`global.css`)
- `src/lib/` — utilities (`youtube.ts`, `config.ts`)
- `src/content/` — blog content and config
- `src/content.config.ts` — trips/posts collections config

### Routes
- `/` — Timeline of latest trips + videos
- `/trips` — Trip index
- `/trips/[slug]` — Trip detail (gallery, stats, optional clips)
- `/videos` — Video index (latest channel uploads)
- `/blog` and `/blog/[slug]` — Blog listing and posts
- `/tags` and `/tags/[tag]` — Tag listing and filter
- `/rss.xml` — RSS feed

### Data flow
- Trips: `getCollection('trips')` → mapped to timeline items.
- Videos: `fetchYouTubeRSS(YT_FEED_URL)` → mapped to timeline items.
- Combined: merge arrays, sort by `date` desc, slice to recent items.
- Trip detail: `getEntry('trips', slug)` → render metadata, prose slot, optional gallery and embedded clips.

### Islands & hydration
- `Gallery.svelte` is a Svelte island providing a lightbox.
- `YouTubeEmbed.astro` uses a small client script to swap the thumbnail for an iframe on click, keeping initial HTML light.

### Styling system
- `src/styles/global.css` defines the brand palette, typography, and component classes and includes Tailwind base/components/utilities.
- The timeline “stitch” and badges are implemented with CSS variables and utility classes.

### Build & deploy
- Build: `npm run build` → static output in `dist/`.
- Preview: `npm run preview`.
- Ensure `site` in `astro.config.mjs` matches the deployed domain for correct canonical URLs, RSS, and sitemaps.

### Notes / future improvements
- Consider consolidating all content collection schemas into `src/content/config.ts` (single source of truth).
- Add CI for build checks and link validation when ready to deploy.